{"ast":null,"code":"import _objectSpread from\"C:/Users/tdisu/Documents/REACT/CRDDRS/my-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/tdisu/Documents/REACT/CRDDRS/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Alert,Button,ButtonGroup,Dialog,DialogActions,DialogContent,DialogContentText,DialogTitle,Paper,Snackbar,Typography}from\"@mui/material\";import{Box}from\"@mui/system\";import React,{useState}from\"react\";import axios from\"axios\";import{useEffect}from\"react\";import style from'./CriarGrt.module.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var SolicitarGrt=function SolicitarGrt(_ref){var loginUser=_ref.loginUser;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useState3=useState({op:false,tipo:'info',frase:''}),_useState4=_slicedToArray(_useState3,2),op=_useState4[0],setOp=_useState4[1];var abrirDialogo=function abrirDialogo(){setOpen(true);};var fecharDialogo=function fecharDialogo(){setOpen(false);};var abrirAvisoPositivo=function abrirAvisoPositivo(){setOp(function(a){return _objectSpread(_objectSpread({},a),{},{op:true,tipo:'success',frase:'GRT Solicitado com exito!'});});};var abrirAvisoNegativo=function abrirAvisoNegativo(){setOp(function(a){return _objectSpread(_objectSpread({},a),{},{op:true,tipo:'error',frase:'Erro ao solicitar a GRT tente novamente em alguns instantes!'});});};var fecharAviso=function fecharAviso(){setOp(false);};var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),quantidade=_useState6[0],setQuantidade=_useState6[1];var _useState7=useState(quantidade*1.5),_useState8=_slicedToArray(_useState7,2),valor=_useState8[0],setValor=_useState8[1];useEffect(function(){setValor(quantidade*1.5);},[quantidade]);var valorPadrão=1.50;var Solicitar=function Solicitar(){var d=new Date();var GRT={quantidade:quantidade,valor:valor,hora:Intl.DateTimeFormat('pt-BR',{hour:'numeric',minute:'numeric',second:'numeric'}).format(d),data:Intl.DateTimeFormat('pt-BR',{dateStyle:'full'}).format(d)};fecharDialogo();axios.post('http://104.248.40.57:3001/grt/solicitar',{loginUser:loginUser,GRT:GRT}).then(function(res){fecharDialogo();abrirAvisoPositivo();}).catch(function(err){abrirAvisoNegativo();});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Snackbar,{open:op.op,autoHideDuration:6000,onClose:fecharAviso,children:/*#__PURE__*/_jsx(Alert,{onClose:fecharAviso,severity:op.tipo,sx:{width:'100%'},children:op.frase})}),/*#__PURE__*/_jsxs(Dialog,{open:open,onClose:fecharDialogo,\"aria-labelledby\":\"alert-dialog-title\",\"aria-describedby\":\"alert-dialog-description\",children:[/*#__PURE__*/_jsx(DialogTitle,{id:\"alert-dialog-title\",children:\"Confirmar a solicita\\xE7\\xE3o das GRTs\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsxs(DialogContentText,{id:\"alert-dialog-description\",children:[\"Ao confirmar a solicita\\xE7\\xE3o ser\\xE1 cobrado o valor de R$: \",valor.toFixed(2),\" pela quantidade de \",quantidade,\" GRTs solicitadas.\"]})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return Solicitar();},color:\"success\",autoFocus:true,children:\"Confirmar\"}),/*#__PURE__*/_jsx(Button,{onClick:fecharDialogo,color:\"error\",children:\"Cancelar\"})]})]}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",color:\"primary\",children:\" Solicitar GRT\"}),/*#__PURE__*/_jsx(Box,{sx:{width:'100%'},children:/*#__PURE__*/_jsxs(Paper,{sx:{p:4,m:2},elevation:6,children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h5\",children:[\"Valor por GRT: R$ \",valorPadrão.toFixed(2),\" \"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Typography,{sx:{p:2},variant:\"h6\",children:[\"Quantidade de GRTs:  \",quantidade,\" \"]}),/*#__PURE__*/_jsxs(Typography,{sx:{p:2},variant:\"h6\",children:[\"Valor total da GRT: R$ \",valor.toFixed(2),\" \"]}),/*#__PURE__*/_jsx(\"div\",{className:style.listabotaocalc,children:/*#__PURE__*/_jsxs(ButtonGroup,{variant:\"contained\",\"aria-label\":\"qtd_grt_50\",children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return setQuantidade(quantidade+50);},children:\"+ 50\"}),/*#__PURE__*/_jsx(Button,{disabled:quantidade<=75,onClick:function onClick(){return setQuantidade(quantidade-50);},children:\"-50\"})]})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{disabled:quantidade<=49,sx:{left:1},onClick:function onClick(){return abrirDialogo();},children:\"Solicitar\"})]})})]});};","map":{"version":3,"names":["Alert","Button","ButtonGroup","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Paper","Snackbar","Typography","Box","React","useState","axios","useEffect","style","SolicitarGrt","loginUser","open","setOpen","op","tipo","frase","setOp","abrirDialogo","fecharDialogo","abrirAvisoPositivo","a","abrirAvisoNegativo","fecharAviso","quantidade","setQuantidade","valor","setValor","valorPadrão","Solicitar","d","Date","GRT","hora","Intl","DateTimeFormat","hour","minute","second","format","data","dateStyle","post","then","res","catch","err","width","toFixed","p","m","listabotaocalc","left"],"sources":["C:/Users/tdisu/Documents/REACT/CRDDRS/my-app/src/pages/Dashboard/Grt/CriarGrt/CriarGrt.jsx"],"sourcesContent":["import { Alert, Button, ButtonGroup, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, Paper, Snackbar, Typography } from \"@mui/material\";\r\nimport { Box } from \"@mui/system\"\r\nimport React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useEffect } from \"react\";\r\nimport style from './CriarGrt.module.scss';\r\n\r\nexport const SolicitarGrt = ({ loginUser }) => {\r\n\r\n    const [open, setOpen] = useState(false);\r\n    const [op, setOp] = useState({\r\n        op: false,\r\n        tipo: 'info',\r\n        frase: ''\r\n    });\r\n\r\n    const abrirDialogo = () => { setOpen(true); };\r\n    const fecharDialogo = () => { setOpen(false); };\r\n    const abrirAvisoPositivo = () => {\r\n        setOp(a => ({\r\n            ...a,\r\n            op: true,\r\n            tipo: 'success',\r\n            frase: 'GRT Solicitado com exito!'\r\n        }));\r\n    };\r\n    const abrirAvisoNegativo = () => {\r\n        setOp(a => ({\r\n            ...a,\r\n            op: true,\r\n            tipo: 'error',\r\n            frase: 'Erro ao solicitar a GRT tente novamente em alguns instantes!'\r\n        }));\r\n    };\r\n    const fecharAviso = () => { setOp(false); };\r\n\r\n    const [quantidade, setQuantidade] = useState(0)\r\n\r\n    const [valor, setValor] = useState(quantidade * 1.5)\r\n\r\n    useEffect(() => {\r\n        setValor(quantidade * 1.5)\r\n    }, [quantidade])\r\n\r\n    const valorPadrão = 1.50;\r\n\r\n    const Solicitar = () => {\r\n\r\n        const d = new Date();\r\n\r\n        let GRT = {\r\n            quantidade,\r\n            valor,\r\n            hora: Intl.DateTimeFormat('pt-BR', { hour: 'numeric', minute: 'numeric', second: 'numeric' }).format(d),\r\n            data: Intl.DateTimeFormat('pt-BR', { dateStyle: 'full' }).format(d)\r\n        }\r\n        fecharDialogo()\r\n        axios.post('http://104.248.40.57:3001/grt/solicitar', { loginUser, GRT })\r\n            .then(res => {\r\n                fecharDialogo()\r\n                abrirAvisoPositivo()\r\n            })\r\n            .catch(err => {\r\n                abrirAvisoNegativo()\r\n            })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Snackbar\r\n                open={op.op}\r\n                autoHideDuration={6000}\r\n                onClose={fecharAviso}\r\n            >\r\n                <Alert onClose={fecharAviso} severity={op.tipo} sx={{ width: '100%' }} >\r\n                    {op.frase}\r\n                </Alert>\r\n            </Snackbar>\r\n            <Dialog\r\n                open={open}\r\n                onClose={fecharDialogo}\r\n                aria-labelledby=\"alert-dialog-title\"\r\n                aria-describedby=\"alert-dialog-description\"\r\n            >\r\n                <DialogTitle id=\"alert-dialog-title\">\r\n                    Confirmar a solicitação das GRTs\r\n                </DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText id=\"alert-dialog-description\">\r\n                        Ao confirmar a solicitação será cobrado o valor de R$: {valor.toFixed(2)} pela\r\n                        quantidade de {quantidade} GRTs solicitadas.\r\n                    </DialogContentText>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={() => Solicitar()} color='success' autoFocus>Confirmar</Button>\r\n                    <Button onClick={fecharDialogo} color='error'>\r\n                        Cancelar\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n            <Typography variant='h6' color='primary'> Solicitar GRT</Typography>\r\n            <Box sx={{ width: '100%' }}>\r\n                <Paper sx={{ p: 4, m: 2 }} elevation={6} >\r\n                    <Typography variant=\"h5\">Valor por GRT: R$ {valorPadrão.toFixed(2)} </Typography>\r\n                    <br /><br />\r\n                    <Typography sx={{ p: 2 }} variant='h6'>Quantidade de GRTs:  {quantidade} </Typography>\r\n                    <Typography sx={{ p: 2 }} variant='h6'>Valor total da GRT: R$ {valor.toFixed(2)} </Typography>\r\n                    <div className={style.listabotaocalc}>\r\n                        <ButtonGroup variant=\"contained\" aria-label='qtd_grt_50' >\r\n                            <Button onClick={() => setQuantidade(quantidade + 50)}>+ 50</Button>\r\n                            <Button disabled={quantidade <= 75} onClick={() => setQuantidade(quantidade - 50)}>-50</Button>\r\n                        </ButtonGroup>\r\n                    </div>\r\n                    <br /><br />\r\n                    <Button disabled={quantidade <= 49} sx={{ left: 1 }} onClick={() => abrirDialogo()} >Solicitar</Button>\r\n                </Paper>\r\n            </Box>\r\n        </>\r\n    )\r\n}"],"mappings":"mQAAA,OAASA,KAAK,CAAEC,MAAM,CAAEC,WAAW,CAAEC,MAAM,CAAEC,aAAa,CAAEC,aAAa,CAAEC,iBAAiB,CAAEC,WAAW,CAAEC,KAAK,CAAEC,QAAQ,CAAEC,UAAU,KAAQ,eAAe,CAC7J,OAASC,GAAG,KAAQ,aAAa,CACjC,MAAOC,MAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAOC,MAAK,KAAM,OAAO,CACzB,OAASC,SAAS,KAAQ,OAAO,CACjC,MAAOC,MAAK,KAAM,wBAAwB,CAAC,6IAE3C,MAAO,IAAMC,aAAY,CAAG,QAAfA,aAAY,MAAsB,IAAhBC,UAAS,MAATA,SAAS,CAEpC,cAAwBL,QAAQ,CAAC,KAAK,CAAC,wCAAhCM,IAAI,eAAEC,OAAO,eACpB,eAAoBP,QAAQ,CAAC,CACzBQ,EAAE,CAAE,KAAK,CACTC,IAAI,CAAE,MAAM,CACZC,KAAK,CAAE,EACX,CAAC,CAAC,yCAJKF,EAAE,eAAEG,KAAK,eAMhB,GAAMC,aAAY,CAAG,QAAfA,aAAY,EAAS,CAAEL,OAAO,CAAC,IAAI,CAAC,CAAE,CAAC,CAC7C,GAAMM,cAAa,CAAG,QAAhBA,cAAa,EAAS,CAAEN,OAAO,CAAC,KAAK,CAAC,CAAE,CAAC,CAC/C,GAAMO,mBAAkB,CAAG,QAArBA,mBAAkB,EAAS,CAC7BH,KAAK,CAAC,SAAAI,CAAC,wCACAA,CAAC,MACJP,EAAE,CAAE,IAAI,CACRC,IAAI,CAAE,SAAS,CACfC,KAAK,CAAE,2BAA2B,IACpC,CAAC,CACP,CAAC,CACD,GAAMM,mBAAkB,CAAG,QAArBA,mBAAkB,EAAS,CAC7BL,KAAK,CAAC,SAAAI,CAAC,wCACAA,CAAC,MACJP,EAAE,CAAE,IAAI,CACRC,IAAI,CAAE,OAAO,CACbC,KAAK,CAAE,8DAA8D,IACvE,CAAC,CACP,CAAC,CACD,GAAMO,YAAW,CAAG,QAAdA,YAAW,EAAS,CAAEN,KAAK,CAAC,KAAK,CAAC,CAAE,CAAC,CAE3C,eAAoCX,QAAQ,CAAC,CAAC,CAAC,yCAAxCkB,UAAU,eAAEC,aAAa,eAEhC,eAA0BnB,QAAQ,CAACkB,UAAU,CAAG,GAAG,CAAC,yCAA7CE,KAAK,eAAEC,QAAQ,eAEtBnB,SAAS,CAAC,UAAM,CACZmB,QAAQ,CAACH,UAAU,CAAG,GAAG,CAAC,CAC9B,CAAC,CAAE,CAACA,UAAU,CAAC,CAAC,CAEhB,GAAMI,YAAW,CAAG,IAAI,CAExB,GAAMC,UAAS,CAAG,QAAZA,UAAS,EAAS,CAEpB,GAAMC,EAAC,CAAG,GAAIC,KAAI,EAAE,CAEpB,GAAIC,IAAG,CAAG,CACNR,UAAU,CAAVA,UAAU,CACVE,KAAK,CAALA,KAAK,CACLO,IAAI,CAAEC,IAAI,CAACC,cAAc,CAAC,OAAO,CAAE,CAAEC,IAAI,CAAE,SAAS,CAAEC,MAAM,CAAE,SAAS,CAAEC,MAAM,CAAE,SAAU,CAAC,CAAC,CAACC,MAAM,CAACT,CAAC,CAAC,CACvGU,IAAI,CAAEN,IAAI,CAACC,cAAc,CAAC,OAAO,CAAE,CAAEM,SAAS,CAAE,MAAO,CAAC,CAAC,CAACF,MAAM,CAACT,CAAC,CACtE,CAAC,CACDX,aAAa,EAAE,CACfZ,KAAK,CAACmC,IAAI,CAAC,yCAAyC,CAAE,CAAE/B,SAAS,CAATA,SAAS,CAAEqB,GAAG,CAAHA,GAAI,CAAC,CAAC,CACpEW,IAAI,CAAC,SAAAC,GAAG,CAAI,CACTzB,aAAa,EAAE,CACfC,kBAAkB,EAAE,CACxB,CAAC,CAAC,CACDyB,KAAK,CAAC,SAAAC,GAAG,CAAI,CACVxB,kBAAkB,EAAE,CACxB,CAAC,CAAC,CACV,CAAC,CAED,mBACI,wCACI,KAAC,QAAQ,EACL,IAAI,CAAER,EAAE,CAACA,EAAG,CACZ,gBAAgB,CAAE,IAAK,CACvB,OAAO,CAAES,WAAY,uBAErB,KAAC,KAAK,EAAC,OAAO,CAAEA,WAAY,CAAC,QAAQ,CAAET,EAAE,CAACC,IAAK,CAAC,EAAE,CAAE,CAAEgC,KAAK,CAAE,MAAO,CAAE,UACjEjC,EAAE,CAACE,KAAK,EACL,EACD,cACX,MAAC,MAAM,EACH,IAAI,CAAEJ,IAAK,CACX,OAAO,CAAEO,aAAc,CACvB,kBAAgB,oBAAoB,CACpC,mBAAiB,0BAA0B,wBAE3C,KAAC,WAAW,EAAC,EAAE,CAAC,oBAAoB,UAAC,wCAErC,EAAc,cACd,KAAC,aAAa,wBACV,MAAC,iBAAiB,EAAC,EAAE,CAAC,0BAA0B,WAAC,kEACU,CAACO,KAAK,CAACsB,OAAO,CAAC,CAAC,CAAC,CAAC,sBAC3D,CAACxB,UAAU,CAAC,oBAC9B,GAAoB,EACR,cAChB,MAAC,aAAa,yBACV,KAAC,MAAM,EAAC,OAAO,CAAE,yBAAMK,UAAS,EAAE,EAAC,CAAC,KAAK,CAAC,SAAS,CAAC,SAAS,eAAC,WAAS,EAAS,cAChF,KAAC,MAAM,EAAC,OAAO,CAAEV,aAAc,CAAC,KAAK,CAAC,OAAO,UAAC,UAE9C,EAAS,GACG,GACX,cACT,KAAC,UAAU,EAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,UAAC,gBAAc,EAAa,cACpE,KAAC,GAAG,EAAC,EAAE,CAAE,CAAE4B,KAAK,CAAE,MAAO,CAAE,uBACvB,MAAC,KAAK,EAAC,EAAE,CAAE,CAAEE,CAAC,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAE,CAAE,CAAC,SAAS,CAAE,CAAE,wBACpC,MAAC,UAAU,EAAC,OAAO,CAAC,IAAI,WAAC,oBAAkB,CAACtB,WAAW,CAACoB,OAAO,CAAC,CAAC,CAAC,CAAC,GAAC,GAAa,cACjF,aAAM,2BAAM,cACZ,MAAC,UAAU,EAAC,EAAE,CAAE,CAAEC,CAAC,CAAE,CAAE,CAAE,CAAC,OAAO,CAAC,IAAI,WAAC,uBAAqB,CAACzB,UAAU,CAAC,GAAC,GAAa,cACtF,MAAC,UAAU,EAAC,EAAE,CAAE,CAAEyB,CAAC,CAAE,CAAE,CAAE,CAAC,OAAO,CAAC,IAAI,WAAC,yBAAuB,CAACvB,KAAK,CAACsB,OAAO,CAAC,CAAC,CAAC,CAAC,GAAC,GAAa,cAC9F,YAAK,SAAS,CAAEvC,KAAK,CAAC0C,cAAe,uBACjC,MAAC,WAAW,EAAC,OAAO,CAAC,WAAW,CAAC,aAAW,YAAY,wBACpD,KAAC,MAAM,EAAC,OAAO,CAAE,yBAAM1B,cAAa,CAACD,UAAU,CAAG,EAAE,CAAC,EAAC,UAAC,MAAI,EAAS,cACpE,KAAC,MAAM,EAAC,QAAQ,CAAEA,UAAU,EAAI,EAAG,CAAC,OAAO,CAAE,yBAAMC,cAAa,CAACD,UAAU,CAAG,EAAE,CAAC,EAAC,UAAC,KAAG,EAAS,GACrF,EACZ,cACN,aAAM,2BAAM,cACZ,KAAC,MAAM,EAAC,QAAQ,CAAEA,UAAU,EAAI,EAAG,CAAC,EAAE,CAAE,CAAE4B,IAAI,CAAE,CAAE,CAAE,CAAC,OAAO,CAAE,yBAAMlC,aAAY,EAAE,EAAC,UAAE,WAAS,EAAS,GACnG,EACN,GACP,CAEX,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}